<!DOCTYPE html>
<html>

    <body>

        <div class="container-fluid" style="margin-top: 5%">


            <div class="input-group searchcontainer  " style="display: inline-flex ; width: auto;">
                <input size="50" class="w3-input searchtext" ng-model="$ctrl.textsearch">
                <select class="selectpicker" ng-model=$ctrl.selectsearch>
                    <optgroup label="Project">
                        <option value="p">Id Project</option>
                        <option value="np">Name Project</option>
                    </optgroup>
                    <optgroup label="Call">
                        <option value="c">Id Call</option>
                        <option value="nc">Name Call (Contains)</option>
                    </optgroup>
                    <optgroup label="organization">
                        <option value="o">Id Organization</option>
                        <option value="no">Name organization</option>
                    </optgroup>
                </select>
                <button class="btn btn-default" type="submit" style="margin-left: 12px"><a
                        href="/www/#!{{ $ctrl.selectsearch }}{{ $ctrl.textsearch }}">Search</a><span
                        class="glyphicon glyphicon-search" aria-hidden="true"></span></button>
            </div>

            <ul class="project" ng-controller="DEBUG">

                <div class="proyectcontainer">
                    <span ng-init="debug($ctrl.Calls.length>0 , 'CALLS LENGTH')"></span>
                    <span ng-if="$ctrl.Calls.length>0">

                    <h2>Convocatoria:</h2>

                    <div ng-repeat="calls in $ctrl.Calls ">
                                    <a href="/www/#!/c{{ calls.id }}" style="display: block">

                        <div ng-repeat="(keycall,valuecall) in calls  | custom:$ctrl.textsearch">


                            <h3>{{ keycall }}: <span>{{ valuecall }} </span></h3>


                        </div>

                                        <span ng-if="$last">
                                        <hr class="style2">
                                        </span>

                                    </a>
                    </div>
   <hr class="style1">
  </span>


                    <span ng-if="$ctrl.Proyecto.length>0">
                    <h2>Proyecto:</h2>


                                     <div ng-repeat="proyecto in $ctrl.Proyecto   ">
                                <a href="/www/#!/p{{ proyecto.id }}" style="display: block">

                                <div ng-repeat="(key, value) in proyecto | custom:$ctrl.textsearch"
                                     style="margin-left: 13%">


                                         <span ng-if="value !='NaN'">
                                             <h3>{{ key }}:  <span>{{ value }} </span></h3>
                                        </span>

                                        <span ng-if="$last">
                                        <hr class="style2">
                                        </span>
                                </div>

                                </a>
                                 </div>
<hr class="style1">
                    </span>


                    <span ng-if="$ctrl.Orgs.length>0">

                    <h2>Organizacion:</h2>

                         <div ng-repeat="orgs in $ctrl.Orgs" style="display: flex">
                    <a href="/www/#!/o{{ orgs.id }}" style="display: block; width: 50%">

                                <div ng-repeat="(key, value) in orgs  | custom:$ctrl.textsearch"
                                     style="margin-left: 13%">

                                              <span ng-if="isobj(value)== false">

                                                        <span ng-if="value" !="NaN">
                                                            <h3> {{ key }}:

                                                                <span>{{ value }} </span>
                                                            </h3>
                                                        </span>
                                              </span>

                                    <span ng-if="isobj(value)== true">
                                                        <span ng-if="key!='_id'"><h3>{{ key }}:</h3></span>
                                                        <div ng-repeat="(key2,value2) in value "
                                                             style="margin-left: 13%">
                                                            <h3> {{ key2 }}:
                                                                <span>{{ value2 }} </span>
                                                            </h3>

                                                        </div>

                                                    </span>

                                         <span ng-if="$last">
                                            <hr class="style2" style="width: 200%">
                                        </span>



                                </div>


                    </a>






                        </div>

                    </span>


                </div>


            </ul>


        </div>
    </body>
</html>